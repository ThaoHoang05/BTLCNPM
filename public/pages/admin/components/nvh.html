<div class="approval-container">
    <div class="header-section">
        <h2><i class="fas fa-tasks"></i> Quản lý Đăng ký Sử dụng</h2>
        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('pending')">
                Chờ duyệt <span class="badge" id="pendingCount">2</span>
            </button>
            <button class="tab-btn" onclick="switchTab('history')">
                Lịch sử xử lý
            </button>
        </div>
    </div>

    <div id="pendingTab" class="tab-content active">
        <div class="request-card">
            <div class="req-info">
                <div class="req-header">
                    <h4>Đám cưới gia đình ông Bảy</h4>
                    <span class="room-badge room-floor-1">Hội trường Tầng 1</span>
                </div>
                <p><i class="fas fa-user"></i> Người đăng ký: Lê Văn Bảy - 0905.123.456</p>
                <p class="time">
                    <i class="far fa-clock"></i> 08:00 - 22:00, 20/12/2025
                </p>
                <div class="conflict-warning" style="display:none;">
                    <i class="fas fa-exclamation-triangle"></i> Cảnh báo: Trùng lịch họp Chi bộ (Tầng 2) - Vẫn có thể duyệt
                </div>
                <p class="fee-proposal"><i class="fas fa-money-bill-wave"></i> Đề xuất thu: <strong>2.000.000 VNĐ</strong></p>
            </div>
            <div class="req-actions">
                <button class="btn-reject" onclick="openRejectModal(603)">Từ chối</button>
                <button class="btn-confirm" onclick="openApproveModal(603)">Duyệt</button>
            </div>
        </div>
    </div>

    <div id="historyTab" class="tab-content">
        <table class="history-table">
            <thead>
                <tr>
                    <th>Sự kiện</th>
                    <th>Người đăng ký</th>
                    <th>Thời gian</th>
                    <th>Phí</th>
                    <th>Trạng thái</th>
                </tr>
            </thead>
            <tbody id="historyList">
                </tbody>
        </table>
    </div>
</div>

<div id="approveModal" class="modal">
    <div class="modal-content">
        <h3>Xác nhận Duyệt</h3>
        <p>Sự kiện: <strong id="modalEventName"></strong></p>
        <div class="form-group">
            <label>Phí sử dụng (VNĐ):</label>
            <input type="number" id="feeInput" class="form-control" value="0">
            <small>Điều chỉnh phí nếu cần thiết</small>
        </div>
        <div class="modal-actions">
            <button class="btn-cancel" onclick="closeModal('approveModal')">Hủy</button>
            <button class="btn-confirm" onclick="confirmApprove()">Xác nhận Duyệt</button>
        </div>
    </div>
</div>

<div id="rejectModal" class="modal">
    <div class="modal-content">
        <h3>Từ chối Yêu cầu</h3>
        <p>Sự kiện: <strong id="rejectEventName"></strong></p>
        <div class="form-group">
            <label>Lý do từ chối:</label>
            <textarea id="rejectReason" class="form-control" rows="3" placeholder="Ví dụ: Trùng lịch hoạt động chung..."></textarea>
        </div>
        <div class="modal-actions">
            <button class="btn-cancel" onclick="closeModal('rejectModal')">Hủy</button>
            <button class="btn-danger" onclick="confirmReject()">Xác nhận Từ chối</button>
        </div>
    </div>
</div>